{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"GuestList\",\n  data() {\n    return {\n      guests: [],\n      forms: {\n        id: \"\",\n        nama: \"\",\n        email: \"\"\n      }\n    };\n  },\n  mounted() {\n    this.getAllGuest();\n  },\n  methods: {\n    getAllGuest() {\n      axios.get(\"http://localhost:4000/tamu\").then(response => {\n        this.guests = response.data;\n      });\n    },\n    deleteGuest(id) {\n      axios.delete(\"http://localhost:4000/tamu/\" + id).then(response => {\n        console.log(response);\n        this.getAllGuest();\n      });\n    },\n    handleUpdate(id) {\n      axios.get(\"http://localhost:4000/tamu/\" + id).then(response => {\n        const data = response.data;\n        this.forms.id = data.id;\n        this.forms.nama = data.nama;\n        this.forms.email = data.email;\n      });\n    },\n    updateGuest() {\n      axios.put(\"http://localhost:4000/tamu/\" + this.forms.id, this.forms).then(response => {\n        console.log(response);\n        this.getAllGuest();\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAkGA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAI,GAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,KAAK,EAAE;QACLC,EAAE,EAAE,EAAE;QACNC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE;MACT;IACF,CAAC;EACH,CAAC;EACDC,OAAO,GAAG;IACR,IAAI,CAACC,WAAW,EAAE;EACpB,CAAC;EACDC,OAAO,EAAE;IACPD,WAAW,GAAG;MACZT,KAAK,CAACW,GAAG,CAAC,4BAA4B,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;QACzD,IAAI,CAACV,MAAK,GAAIU,QAAQ,CAACX,IAAI;MAC7B,CAAC,CAAC;IACJ,CAAC;IACDY,WAAW,CAACT,EAAE,EAAE;MACdL,KAAK,CAACe,MAAM,CAAC,6BAA4B,GAAIV,EAAE,CAAC,CAACO,IAAI,CAAEC,QAAQ,IAAK;QAClEG,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;QACrB,IAAI,CAACJ,WAAW,EAAE;MACpB,CAAC,CAAC;IACJ,CAAC;IACDS,YAAY,CAACb,EAAE,EAAE;MACfL,KAAK,CAACW,GAAG,CAAC,6BAA4B,GAAIN,EAAE,CAAC,CAACO,IAAI,CAAEC,QAAQ,IAAK;QAC/D,MAAMX,IAAG,GAAIW,QAAQ,CAACX,IAAI;QAC1B,IAAI,CAACE,KAAK,CAACC,EAAC,GAAIH,IAAI,CAACG,EAAE;QACvB,IAAI,CAACD,KAAK,CAACE,IAAG,GAAIJ,IAAI,CAACI,IAAI;QAC3B,IAAI,CAACF,KAAK,CAACG,KAAI,GAAIL,IAAI,CAACK,KAAK;MAC/B,CAAC,CAAC;IACJ,CAAC;IACDY,WAAW,GAAG;MACZnB,KAAI,CACDoB,GAAG,CAAC,6BAA4B,GAAI,IAAI,CAAChB,KAAK,CAACC,EAAE,EAAE,IAAI,CAACD,KAAK,EAC7DQ,IAAI,CAAEC,QAAQ,IAAK;QAClBG,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;QACrB,IAAI,CAACJ,WAAW,EAAE;MACpB,CAAC,CAAC;IACN;EACF;AACF,CAAC","names":["axios","name","data","guests","forms","id","nama","email","mounted","getAllGuest","methods","get","then","response","deleteGuest","delete","console","log","handleUpdate","updateGuest","put"],"sourceRoot":"","sources":["/Users/adhim/Documents/Working/VueJs/crudmysql/frontend/src/components/List.vue"],"sourcesContent":["<template>\n  <main>\n    <h1>Guest List</h1>\n    <div class=\"container\">\n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Email Address</th>\n            <th scope=\"col\">Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"guest in guests\" v-bind:key=\"guest.id\">\n            <th scope=\"row\">1</th>\n            <td>{{ guest.nama }}</td>\n            <td>{{ guest.email == null ? \"Kosong\" : guest.email }}</td>\n            <td>\n              <button\n                class=\"btn btn-primary me-2\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#exampleModal\"\n                @click=\"handleUpdate(guest.id)\"\n              >\n                Edit\n              </button>\n              <button class=\"btn btn-danger\" @click=\"deleteGuest(guest.id)\">\n                Delete\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Modal -->\n    <div\n      class=\"modal fade\"\n      id=\"exampleModal\"\n      tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">Edit Data</h1>\n            <button\n              type=\"button\"\n              class=\"btn-close\"\n              data-bs-dismiss=\"modal\"\n              aria-label=\"Close\"\n            ></button>\n          </div>\n          <form @submit.prevent=\"updateGuest()\">\n            <div class=\"modal-body\">\n              <div class=\"form-floating mb-3\">\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  id=\"floatingInput\"\n                  placeholder=\"name@example.com\"\n                  v-model=\"forms.email\"\n                />\n                <label for=\"floatingInput\">Email address</label>\n              </div>\n              <div class=\"form-floating\">\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"floatingName\"\n                  placeholder=\"Name\"\n                  v-model=\"forms.nama\"\n                />\n                <label for=\"floatingName\">Name</label>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button\n                type=\"button\"\n                class=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n              >\n                Close\n              </button>\n              <button type=\"submit\" class=\"btn btn-primary\">\n                Save changes\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"GuestList\",\n  data() {\n    return {\n      guests: [],\n      forms: {\n        id: \"\",\n        nama: \"\",\n        email: \"\",\n      },\n    };\n  },\n  mounted() {\n    this.getAllGuest();\n  },\n  methods: {\n    getAllGuest() {\n      axios.get(\"http://localhost:4000/tamu\").then((response) => {\n        this.guests = response.data;\n      });\n    },\n    deleteGuest(id) {\n      axios.delete(\"http://localhost:4000/tamu/\" + id).then((response) => {\n        console.log(response);\n        this.getAllGuest();\n      });\n    },\n    handleUpdate(id) {\n      axios.get(\"http://localhost:4000/tamu/\" + id).then((response) => {\n        const data = response.data;\n        this.forms.id = data.id;\n        this.forms.nama = data.nama;\n        this.forms.email = data.email;\n      });\n    },\n    updateGuest() {\n      axios\n        .put(\"http://localhost:4000/tamu/\" + this.forms.id, this.forms)\n        .then((response) => {\n          console.log(response);\n          this.getAllGuest();\n        });\n    },\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}